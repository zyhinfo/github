<%@ page language="java" contentType="text/html; charset=UTF-8"%><%@ include file="/jsp/base/core/taglibs.jsp"%><html>	<head>		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">		<script type="text/javascript">			var grid,quer;	        //表格	        $(function (){	            $("#maingrid").ligerGrid({	                height:'99%',enabledSort:false,usePager:false,rownumbers:true,	                checkbox:true,isChecked: f_isChecked,	                columns: [	                	{ display: '角色编号', name: 'ROLE_ID', align: 'left', width: 150 },	                	{ display: '角色名称', name: 'ROLE_NAME', align: 'left', width: 250 },	                	{ display: '角色描述', name: 'ROLE_DESC', align: 'left', width: 150 }	                ], 	                url:"${ctx}/UserGroupRoleAction.action?method=getUserGroupRoleJSON&userGroupId=${userGroupId}", 	                toolbar: { items: [	                	{ line: true },	                	{ text: '保存', click: itemclick, icon: 'save' },	                	{ line: true },	                	{ text: '返回', click: itemclick, icon: 'back' }	                ]}	            });	            grid = $("#maingrid").ligerGetGridManager();	            $("#pageloading").hide();	        });	        			function itemclick(item){	        	var text = item.text;	        	if(text == '保存'){	        		var ids = "";            		var nodes = grid.getSelecteds();            		for(var i=0;i<nodes.length;i++){            			if(ids != '')ids+=",";            			ids+=nodes[i].ROLE_ID;            		}            		if(ids != ""){            			var param = {							userGroupId : $("#userGroupId").val(),							ids : ids						};            			$.post("${ctx}/UserGroupRoleAction.action?method=updateUserGroupRole&anticache="									+ Math.floor(Math.random() * 10000), param, function(info) {								if (info.info == undefined) {									info = eval("(" + info + ")");								}								if (info.info == 'ok') {									$.ligerDialog.success('修改用户组和角色关系成功');								} else {									error_alert("${ctx}","修改用户组和角色关系失败",mapToString(param));								}							});            		}	            }else if(text == '返回'){	            	window.location.href="${ctx}/UserGroupAction.action?method=gotoUserGroupList";	            }	        }	        	        function f_isChecked(rowdata){	        	if (rowdata.ISCHECK=='true')	        		return true;	        	return false;	        }		</script>	</head>	<body style="overflow-x:hidden; padding:2px;">		<div class="l-loading" style="display:block" id="pageloading"></div>    	<div id="maingrid"></div>    	<input type="hidden" id="userGroupId" value="${userGroupId }">	</body></html>