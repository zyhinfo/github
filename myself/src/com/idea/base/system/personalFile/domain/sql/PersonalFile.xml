<?xml version="1.0" encoding="UTF-8" ?><!DOCTYPE sqlMap          PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"          "http://ibatis.apache.org/dtd/sql-map-2.dtd"><!-- 个人档案 --><sqlMap namespace="PersonalFile">	<typeAlias alias="PersonalFileBean" type="com.idea.base.system.personalFile.domain.PersonalFileBean"/>	<typeAlias alias="EducationBean" type="com.idea.base.system.personalFile.domain.EducationBean"/>	<typeAlias alias="JobBean" type="com.idea.base.system.personalFile.domain.JobBean"/>	<typeAlias alias="TrainBean" type="com.idea.base.system.personalFile.domain.TrainBean"/>	<typeAlias alias="RewardBean" type="com.idea.base.system.personalFile.domain.RewardBean"/>	<typeAlias alias="HolidayBean" type="com.idea.base.system.personalFile.domain.HolidayBean"/>	<select id="getPersonalFileJSON" resultClass="java.util.HashMap" parameterClass="PersonalFileBean">		select t.archive_id, user_name, POSITION_NAME,sex,ORG_ID		  from T03_ARCHIVE_INFO t		 where 1 = 1		 <dynamic>		  	<isNotEmpty property="userName">		  		and user_name like '%'||#userName#||'%'		  	</isNotEmpty>		  </dynamic>	</select>	<select id="getPersonalFileJSONCount" resultClass="java.lang.Integer" parameterClass="PersonalFileBean">		select count(1)		  from T03_ARCHIVE_INFO t		  left join t01_sys_org o		    on t.org_id = o.org_id		 where 1 = 1		 <dynamic>		  	<isNotEmpty property="userName">		  		and user_name like '%'||#userName#||'%'		  	</isNotEmpty>		  </dynamic>	</select>	<insert id="savePersonalFileAdd" parameterClass="PersonalFileBean">		insert into T03_ARCHIVE_INFO			  (ARCHIVE_ID,			   USER_ID,			   USER_NAME,			   ORG_ID,			   POSITION_NAME,			   BIRTHDAY,			   SEX,			   NATONAL_NAME,			   ZZMM,			   TEL,			   HOMETEL,			   HOME_ADDR,			   JOB_TITLE,			   STATE)			VALUES			  ('$archiveId$',			   '$userId$',			   '$userName$',			   '$orgId$',			   '$positionName$',			   to_date('$birthday$','yyyy-MM-dd'),			   '$sex$',			   '$natonalName$',			   '$zzmm$',			   '$tel$',			   '$homeTel$',			   '$homeAddr$',			   '$jobTitle$',			   '$state$')	</insert>	<insert id="saveArchiveEducationAdd" parameterClass="EducationBean">		insert into T03_ARCHIVE_EDUCATION			  (ID,			   SCHOOL,			   START_DATE,			   END_DATE,			   PROFESSION,			   EDUCATION,			   DEGREE_NAME,			   ARCHIVE_ID)			values			  ('$id$','$school$',to_date('$startDate$','yyyy-MM-dd'),			  to_date('$endDate$','yyyy-MM-dd'),'$profession$',			  '$education$','$degreeName$','$archiveId$')	</insert>	<insert id="saveArchiveJobAdd" parameterClass="JobBean">		insert into t03_archive_job			  (ID,			   COMPANY_NAME,			   COMPANY_ADDR,			   ADD_DATE,			   LEAVE_DATE,			   POSITION,			   JOB_DES,			   LEAVE_REASON,			   ARCHIVE_ID)			values			  ('$id$','$companyName$','$companyAddr$',to_date('$addDate$','yyyy-MM-dd'),			   to_date('$leaveDate$','yyyy-MM-dd'),'$position$','$jobDes$','$leaveReason$',			   '$archiveId$')	</insert>		<insert id="saveArchiveTrainAdd" parameterClass="TrainBean">		insert into T03_Archive_Train			  (ID, SCHOOL, TRAIN_DESC, START_DATE, END_DATE, ARCHIVE_ID)		values			  ('$id$','$school$','$trainDesc$',to_date('$startDate$','yyyy-MM-dd'),			  to_date('$endDate$','yyyy-MM-dd'),'$archiveId$')	</insert>	<insert id="saveArchiveRewardAdd" parameterClass="RewardBean">		insert into T03_ARCHIVE_REWARD			(ID, JF_REASON, JF_DETAIL, JF_TYPE, JF_DATE, ARCHIVE_ID)		values			('$id$',		   '$jfReason$',		   '$jfDetail$',		   '$jfType$',		   to_date('$jfDate$', 'yyyy-MM-dd'),		   '$archiveId$')	</insert>	<insert id="saveArchiveHolidayAdd" parameterClass="HolidayBean">		insert into T03_Archive_Holiday		  (ID, REASON, IS_TYPE, START_DATE, END_DATE, ARCHIVE_ID)		values		  ('$id$',		   '$reason$',		   '$isType$',		   to_date('$startDate$', 'yyyy-MM-dd'),		   to_date('$endDate$', 'yyyy-MM-dd'),		   '$archiveId$')			</insert>	<update id="savePersonalFileEdit" parameterClass="PersonalFileBean">		update T03_ARCHIVE_INFO 		   set USER_ID ='$userId$',			   USER_NAME ='$userName$',			   ORG_ID ='$orgId$',			   POSITION_NAME ='$positionName$',			   BIRTHDAY =to_date('$birthday$','yyyy-MM-dd'),			   SEX ='$sex$',			   NATONAL_NAME ='$natonalName$',			   ZZMM ='$zzmm$',			   TEL ='$tel$',			   HOMETEL ='$homeTel$',			   HOME_ADDR ='$homeAddr$',			   JOB_TITLE ='$jobTitle$',			   STATE ='$state$'	     where ARCHIVE_ID ='$archiveId$'	</update>	<update id="saveArchiveEducationEdit" parameterClass="EducationBean">		update T03_ARCHIVE_EDUCATION 		   set SCHOOL='$school$',			   START_DATE=to_date('$startDate$','yyyy-MM-dd'),			   END_DATE=to_date('$endDate$','yyyy-MM-dd'),			   PROFESSION='$profession$',			   EDUCATION='$education$',			   DEGREE_NAME='$degreeName$'	     where ID ='$id$'	</update>		<update id="saveArchiveJobEdit" parameterClass="JobBean">		UPDATE t03_archive_job		   SET COMPANY_NAME='$companyName$',		       COMPANY_ADDR='$companyAddr$',		       ADD_DATE=to_date('$addDate$','yyyy-MM-dd'),		       LEAVE_DATE=to_date('$leaveDate$','yyyy-MM-dd'),		       POSITION='$position$',		       JOB_DES='$jobDes$',		       LEAVE_REASON='$leaveReason$'		 where ID ='$id$'	</update>		<update id="saveArchiveTrainEdit" parameterClass="TrainBean">		update T03_Archive_Train		   set SCHOOL='$school$',		       TRAIN_DESC='$trainDesc$',		       START_DATE=TO_DATE('$startDate$', 'yyyy-MM-dd'),		       END_DATE=TO_DATE('$endDate$', 'yyyy-MM-dd')		 where ID ='$id$'	</update>	<update id="saveArchiveRewardEdit" parameterClass="RewardBean">		update T03_ARCHIVE_REWARD		   set JF_REASON = '$jfReason$',		       JF_DETAIL = '$jfDetail$',		       JF_TYPE   = '$jfType$',		       JF_DATE   = to_date('$jfDate$', 'yyyy-MM-dd')		 where ID ='$id$'	</update>	<update id="saveArchiveHolidayEdit" parameterClass="HolidayBean">		update T03_Archive_Holiday		   set REASON='$reason$',		       IS_TYPE='$isType$',		       START_DATE=to_date('$startDate$', 'yyyy-MM-dd'),		       END_DATE=to_date('$endDate$', 'yyyy-MM-dd')		 where ID ='$id$'	</update>	<update id="saveImgBase64" parameterClass="java.util.HashMap">		update T03_ARCHIVE_INFO set photo=#photoBase64,javaType=java.lang.String,jdbcType=CLOB# where ARCHIVE_ID = '$archiveId$'	</update>		<resultMap id="getArchiveInfoResult" class="java.util.HashMap">		<result property="ARCHIVE_ID" column="ARCHIVE_ID" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="USER_ID" column="USER_ID" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="USER_NAME" column="USER_NAME" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="ORG_ID" column="ORG_ID" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="POSITION_NAME" column="POSITION_NAME" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="BIRTHDAY" column="BIRTHDAY" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="SEX" column="SEX" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="NATONAL_NAME" column="NATONAL_NAME" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="ZZMM" column="ZZMM" jdbcType="VARCHAR" javaType = "java.lang.String" />		<result property="TEL" column="TEL" jdbcType="VARCHAR" javaType = "java.lang.String" />     	<result property="HOMETEL" column="HOMETEL" jdbcType="VARCHAR" javaType = "java.lang.String" />     	<result property="PHOTO" column="PHOTO" jdbcType="CLOB" javaType = "java.lang.String" />     	<result property="HOME_ADDR" column="HOME_ADDR" jdbcType="VARCHAR" javaType = "java.lang.String" />     	<result property="JOB_TITLE" column="JOB_TITLE" jdbcType="VARCHAR" javaType = "java.lang.String" />     	<result property="STATE" column="STATE" jdbcType="VARCHAR" javaType = "java.lang.String" />	</resultMap>	<select id="getArchiveInfo" parameterClass="java.lang.String" resultMap="getArchiveInfoResult">		select ARCHIVE_ID,		       USER_ID,		       USER_NAME,		       ORG_ID,		       POSITION_NAME,		       to_char(BIRTHDAY,'yyyy-MM-dd') BIRTHDAY,		       SEX,		       NATONAL_NAME,		       ZZMM,		       TEL,		       HOMETEL,		       photo,		       HOME_ADDR,		       JOB_TITLE,		       STATE		  from t03_archive_info		 where ARCHIVE_ID='$archiveId$'	</select>		<select id="getArchiveEducationList" parameterClass="java.lang.String" resultClass="java.util.HashMap">		select ID,		       SCHOOL,		       to_char(START_DATE,'yyyy-MM-dd') START_DATE,		       to_char(END_DATE,'yyyy-MM-dd') END_DATE,		       PROFESSION,		       EDUCATION,		       DEGREE_NAME,		       ARCHIVE_ID		  from T03_ARCHIVE_EDUCATION		 where ARCHIVE_ID='$archiveId$'	</select>		<select id="getArchiveJobList" parameterClass="java.lang.String" resultClass="java.util.HashMap">		select ID,		       COMPANY_NAME,		       COMPANY_ADDR,		       TO_CHAR(ADD_DATE, 'yyyy-MM-dd') ADD_DATE,		       TO_CHAR(LEAVE_DATE, 'yyyy-MM-dd') LEAVE_DATE,		       POSITION,		       JOB_DES,		       LEAVE_REASON,		       ARCHIVE_ID		  from t03_archive_job		 where ARCHIVE_ID='$archiveId$'	</select>		<select id="getArchiveTrainList" parameterClass="java.lang.String" resultClass="java.util.HashMap">		SELECT ID,		       SCHOOL,		       TRAIN_DESC,		       TO_CHAR(START_DATE, 'yyyy-MM-dd') START_DATE,		       TO_CHAR(END_DATE, 'yyyy-MM-dd') END_DATE,		       ARCHIVE_ID		  FROM T03_Archive_Train		 where ARCHIVE_ID='$archiveId$'	</select>	<select id="getArchiveRewardList" parameterClass="java.lang.String" resultClass="java.util.HashMap">		select ID, JF_REASON, JF_DETAIL, JF_TYPE, ARCHIVE_ID,			   TO_CHAR(JF_DATE, 'yyyy-MM-dd') JF_DATE  		  from T03_ARCHIVE_REWARD		 where ARCHIVE_ID='$archiveId$'	</select>	<select id="getArchiveHolidayList" parameterClass="java.lang.String" resultClass="java.util.HashMap">		select ID, REASON, IS_TYPE, TO_CHAR(START_DATE, 'yyyy-MM-dd') START_DATE, 			TO_CHAR(END_DATE, 'yyyy-MM-dd') END_DATE, ARCHIVE_ID  		  from T03_Archive_Holiday  		 where ARCHIVE_ID='$archiveId$'	</select>	</sqlMap>